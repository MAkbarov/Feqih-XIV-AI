import{j as e}from"./markdown-CGR2RDhP.js";import{a as f,c as P,H as R,R as j}from"./vendor-4eYsLQor.js";import{A as z}from"./AdminLayout-KXpgeJb5.js";import{u as T,a as M}from"./app-DSWuFYjX.js";import{I as k}from"./Icon-D8dZPIEy.js";import{m as C}from"./proxy-CfrAqMoI.js";import"./index-Cn3or5DS.js";import"./Footer-BEUEIhX1.js";import"./app-tHzcnWQi.js";function F(){const t=document.head.querySelector('meta[name="csrf-token"]');return t?t.content:""}function $({settings:t}){const o=T(),[p,x]=j.useState("desktop"),[c,y]=j.useState("light"),[h,b]=j.useState(!1),[s,u]=j.useState({desktop_light:null,desktop_dark:null,mobile_light:null,mobile_dark:null,favicon:null}),[g,l]=j.useState({desktop_light:t?.brand_logo_desktop_light||t?.brand_logo_url||"",desktop_dark:t?.brand_logo_desktop_dark||t?.brand_logo_url||"",mobile_light:t?.brand_logo_mobile_light||t?.brand_logo_url||"",mobile_dark:t?.brand_logo_mobile_dark||t?.brand_logo_url||"",favicon:t?.favicon_url||""}),n=`${p}_${c}`,N=a=>a?URL.createObjectURL(a):null,v=a=>{if(!a)return;if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(a.type)){o.error("Yalnız JPG, PNG, WebP və GIF formatları dəstəklənir");return}if(a.size>1024*1024){o.error("Fayl ölçüsü 1MB-dan çox olmamalıdır");return}const m=N(a);u(d=>({...d,[n]:a})),l(d=>({...d,[n]:m})),o.success(`${p} ${c} logo seçildi`)},i=a=>{if(!a)return;if(!["image/png","image/jpeg","image/jpg","image/x-icon","image/vnd.microsoft.icon"].includes(a.type)){o.error("Yalnız PNG, JPG və ICO formatları dəstəklənir");return}if(a.size>512*1024){o.error("Favicon ölçüsü 512KB-dan çox olmamalıdır");return}const m=N(a);u(d=>({...d,favicon:a})),l(d=>({...d,favicon:m})),o.success("Favicon seçildi")},w=async()=>{b(!0);const a=[];try{for(const r of["desktop_light","desktop_dark","mobile_light","mobile_dark"])if(s[r]){const m=new FormData;m.append("image",s[r]),m.append("variant",r);try{const S=await(await fetch("/admin/upload/site-logo",{method:"POST",body:m,headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":F()},credentials:"same-origin"})).json();S.success||a.push(`${r}: ${S.message}`)}catch{a.push(`${r}: Yükləmə xətası`)}}if(s.favicon){const r=new FormData;r.append("image",s.favicon);try{const d=await(await fetch("/admin/upload/favicon",{method:"POST",body:r,headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":F()},credentials:"same-origin"})).json();d.success||a.push(`Favicon: ${d.message}`)}catch{a.push("Favicon: Yükləmə xətası")}}a.length===0?(o.success("Bütün fayllar uğurla yükləndi!"),u({desktop_light:null,desktop_dark:null,mobile_light:null,mobile_dark:null,favicon:null}),setTimeout(()=>window.location.reload(),1e3)):o.error("Bəzi fayllar yüklənmədi: "+a.join(", "))}catch{o.error("Ümumi yükləmə xətası")}finally{b(!1)}},_=Object.values(s).filter(a=>a!==null).length;return e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[["desktop","mobile"].map(a=>e.jsx("button",{type:"button",onClick:()=>x(a),className:`px-3 py-1.5 rounded-lg text-sm border transition ${p===a?"bg-emerald-500 text-white border-emerald-500 shadow":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:a==="desktop"?"Masaüstü":"Mobil"},a)),e.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),["light","dark"].map(a=>e.jsx("button",{type:"button",onClick:()=>y(a),className:`px-3 py-1.5 rounded-lg text-sm border transition ${c===a?"bg-indigo-500 text-white border-indigo-500 shadow":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`,children:a==="light"?"Aydın":"Tünd"},a))]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"backdrop-blur bg-white/80 dark:bg-gray-800/80 border border-gray-200 dark:border-gray-600 rounded-xl p-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2",children:["Logo (",p,", ",c,")"]}),e.jsxs("div",{className:"border-2 border-dashed rounded-xl p-6 text-center cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/40",onDragOver:a=>{a.preventDefault(),a.stopPropagation()},onDrop:a=>{a.preventDefault(),a.stopPropagation();const r=a.dataTransfer.files?.[0];r&&v(r)},onClick:()=>document.getElementById(`logo-file-${n}`)?.click(),children:[e.jsx("input",{id:`logo-file-${n}`,type:"file",accept:"image/*",className:"hidden",onChange:a=>v(a.target.files?.[0])}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Şəkli buraya atın və ya ",e.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:"seçin"})]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Limit: 1MB, max 1024x1024 (keyfiyyət itirmədən ölçüləndirilir)"}),g[n]&&e.jsx("div",{className:"mt-3 flex items-center justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:g[n],alt:"Logo Preview",className:"h-16 w-16 object-contain rounded-lg border"}),s[n]&&e.jsx("div",{className:"absolute -top-1 -right-1 bg-green-500 text-white rounded-full w-4 h-4 flex items-center justify-center text-xs",children:"✓"})]})})]})]}),e.jsxs("div",{className:"backdrop-blur bg-white/80 dark:bg-gray-800/80 border border-gray-200 dark:border-gray-600 rounded-xl p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Favicon"}),e.jsxs("div",{className:"border-2 border-dashed rounded-xl p-6 text-center cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/40",onDragOver:a=>{a.preventDefault(),a.stopPropagation()},onDrop:a=>{a.preventDefault(),a.stopPropagation();const r=a.dataTransfer.files?.[0];r&&i(r)},onClick:()=>document.getElementById("favicon-file")?.click(),children:[e.jsx("input",{id:"favicon-file",type:"file",accept:"image/png,image/jpeg,image/x-icon,image/vnd.microsoft.icon,.ico",className:"hidden",onChange:a=>i(a.target.files?.[0])}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Şəkli buraya atın və ya ",e.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:"seçin"})]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Tövsiyə: 64x64 PNG/JPG/ICO (max 512KB)"}),g.favicon&&e.jsxs("div",{className:"mt-3 flex items-center justify-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:g.favicon,alt:"Favicon Preview",className:"h-6 w-6 object-contain"}),s.favicon&&e.jsx("div",{className:"absolute -top-1 -right-1 bg-green-500 text-white rounded-full w-3 h-3 flex items-center justify-center text-xs",children:"✓"})]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-[180px]",children:s.favicon?s.favicon.name:g.favicon})]})]})]})]}),_>0&&e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-700",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{name:"upload",size:20,className:"text-blue-600"}),e.jsxs("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:[_," fayl seçildi və yükləməyə hazırdır"]})]}),e.jsx("button",{type:"button",onClick:w,disabled:h,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:h?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Yüklənir..."]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{name:"save",size:16}),"Hamısını Yüklə"]})})]}),e.jsxs("div",{className:"mt-3 text-xs text-blue-600 dark:text-blue-400",children:["Seçilməş fayllar:",e.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[s.desktop_light&&e.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-800 rounded",children:"Masaüstü Aydın"}),s.desktop_dark&&e.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-800 rounded",children:"Masaüstü Tünd"}),s.mobile_light&&e.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-800 rounded",children:"Mobil Aydın"}),s.mobile_dark&&e.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-800 rounded",children:"Mobil Tünd"}),s.favicon&&e.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-800 rounded",children:"Favicon"})]})]})]})]})}const U=({settings:t})=>{const o=T(),{loadTheme:p}=M(),[x,c]=f.useState("gradient"),[y,h]=f.useState("#667eea"),[b,s]=f.useState("#764ba2"),[u,g]=f.useState("#667eea");f.useEffect(()=>{if(t?.background_gradient){const a=t.background_gradient;if(a.includes("linear-gradient")){c("gradient");const r=a.match(/#[0-9a-fA-F]{6}/g);r&&r.length>=2&&(h(r[0]),s(r[1]))}else c("solid"),g(a)}},[t]);const{data:l,setData:n,post:N,processing:v}=P({primary_color:t?.primary_color||"#6366F1",secondary_color:t?.secondary_color||"#EC4899",accent_color:t?.accent_color||"#fbbf24",background_gradient:t?.background_gradient||"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",text_color:t?.text_color||"#1f2937"}),i=(a,r)=>{n(a,r)},w=()=>{if(x==="gradient"){const a=`linear-gradient(135deg, ${y} 0%, ${b} 100%)`;n("background_gradient",a)}else n("background_gradient",u)};f.useEffect(()=>{w()},[x,y,b,u]);const _=a=>{a.preventDefault(),N("/admin/theme-settings",{preserveScroll:!0,onSuccess:()=>{o.success("Mövzu Parametrləri uğurla yeniləndi!"),p()},onError:r=>{o.error("Mövzu Parametrlərini yeniləyərkən xəta baş verdi!")}})};return e.jsxs(z,{children:[e.jsx(R,{title:"Mövzu Parametrləri"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-lg rounded-2xl shadow-xl p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(k,{name:"edit",size:32,color:"#10b981"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100",children:"Tema Parametrləri"})]}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:"Saytınızın rəng sxemini və arxa fonunu fərdiləşdirin"})]}),e.jsxs("form",{onSubmit:_,children:[e.jsxs(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-lg rounded-2xl shadow-xl p-8 mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[e.jsx(k,{name:"edit",size:22}),"Brend Media (Logo və Favicon)"]}),e.jsx($,{settings:t})]}),e.jsxs(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-lg rounded-2xl shadow-xl p-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 dark:text-gray-100",children:"Rəng Sxemi"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Əsas Rəng"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"color",value:l.primary_color,onChange:a=>i("primary_color",a.target.value),className:"h-12 w-20 rounded-lg border-2 border-gray-300 dark:border-gray-600 cursor-pointer"}),e.jsx("input",{type:"text",value:l.primary_color,onChange:a=>i("primary_color",a.target.value),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-emerald-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"}),e.jsx("div",{className:"w-24 h-12 rounded-lg shadow-inner",style:{backgroundColor:l.primary_color}})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"İkinci Rəng"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"color",value:l.secondary_color,onChange:a=>i("secondary_color",a.target.value),className:"h-12 w-20 rounded-lg border-2 border-gray-300 dark:border-gray-600 cursor-pointer"}),e.jsx("input",{type:"text",value:l.secondary_color,onChange:a=>i("secondary_color",a.target.value),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-emerald-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"}),e.jsx("div",{className:"w-24 h-12 rounded-lg shadow-inner",style:{backgroundColor:l.secondary_color}})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Aksent Rəngi"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"color",value:l.accent_color,onChange:a=>i("accent_color",a.target.value),className:"h-12 w-20 rounded-lg border-2 border-gray-300 dark:border-gray-600 cursor-pointer"}),e.jsx("input",{type:"text",value:l.accent_color,onChange:a=>i("accent_color",a.target.value),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-emerald-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"}),e.jsx("div",{className:"w-24 h-12 rounded-lg shadow-inner",style:{backgroundColor:l.accent_color}})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Mətn Rəngi"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"color",value:l.text_color,onChange:a=>i("text_color",a.target.value),className:"h-12 w-20 rounded-lg border-2 border-gray-300 dark:border-gray-600 cursor-pointer"}),e.jsx("input",{type:"text",value:l.text_color,onChange:a=>i("text_color",a.target.value),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-emerald-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"}),e.jsx("div",{className:"w-24 h-12 rounded-lg shadow-inner",style:{backgroundColor:l.text_color}})]})]}),e.jsxs("div",{className:"col-span-full space-y-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Arxa Fon Növü"}),e.jsxs("div",{className:"flex items-center space-x-4 bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"backgroundType",value:"gradient",checked:x==="gradient",onChange:a=>c(a.target.value),className:"mr-2"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[e.jsx(k,{name:"feature_ai",size:16}),"Gradient"]})]}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"backgroundType",value:"solid",checked:x==="solid",onChange:a=>c(a.target.value),className:"mr-2"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[e.jsx(k,{name:"edit",size:16}),"Solid Rəng"]})]})]}),x==="gradient"&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Başlanğıc Rəng"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"color",value:y,onChange:a=>h(a.target.value),className:"h-12 w-20 rounded-lg border-2 border-gray-300 dark:border-gray-600 cursor-pointer"}),e.jsx("input",{type:"text",value:y,onChange:a=>h(a.target.value),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-emerald-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Son Rəng"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"color",value:b,onChange:a=>s(a.target.value),className:"h-12 w-20 rounded-lg border-2 border-gray-300 dark:border-gray-600 cursor-pointer"}),e.jsx("input",{type:"text",value:b,onChange:a=>s(a.target.value),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-emerald-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]})]})}),x==="solid"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Arxa Fon Rəngi"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"color",value:u,onChange:a=>g(a.target.value),className:"h-12 w-20 rounded-lg border-2 border-gray-300 dark:border-gray-600 cursor-pointer"}),e.jsx("input",{type:"text",value:u,onChange:a=>g(a.target.value),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-emerald-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Önizləmə"}),e.jsx("div",{className:"w-full h-24 rounded-lg shadow-inner border-2 border-gray-200 dark:border-gray-600",style:{background:l.background_gradient},children:e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium text-shadow",children:"Arxa Fon Önizləmə"})})})]})]})]})]}),e.jsx("div",{className:"mt-8 flex justify-end",children:e.jsx("button",{type:"submit",disabled:v,className:"px-8 py-3 bg-emerald-500 text-white rounded-lg font-medium hover:bg-emerald-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transition-all",children:v?"Yadda saxlanılır...":"Parametrləri Saxla"})})]})]})})]})};export{U as default};
