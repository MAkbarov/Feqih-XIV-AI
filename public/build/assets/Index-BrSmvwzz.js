import{j as e}from"./markdown-CGR2RDhP.js";import{a as g,H as R,c as F}from"./vendor-4eYsLQor.js";import{A as O}from"./AdminLayout-Af40oe7Z.js";import{I as t}from"./Icon-D8dZPIEy.js";import{m as h}from"./proxy-CfrAqMoI.js";import{A as P}from"./index-DHi4oDk3.js";import"./index-Cn3or5DS.js";import"./app-GJbzw1PY.js";import"./app-Cn6opuke.js";import"./Footer-ClqF8xiF.js";const A=(a,d=!1,s=!1)=>{if(!a)return"Məlum deyil";const r=new Date(a);if(isNaN(r.getTime()))return"Səhv tarix";const i=["bazar","bazar ertəsi","çərşənbə axşamı","çərşənbə","cümə axşamı","cümə","şənbə"],l=["yanvar","fevral","mart","aprel","may","iyun","iyul","avqust","sentyabr","oktyabr","noyabr","dekabr"],o=["yan","fev","mar","apr","may","iyn","iyl","avq","sen","okt","noy","dek"],u=String(r.getDate()).padStart(2,"0"),x=s?l[r.getMonth()]:o[r.getMonth()],S=r.getFullYear();let m=`${u} ${x} ${S}`;if(s&&(m=`${i[r.getDay()]}, ${m}`),d){const N=String(r.getHours()).padStart(2,"0"),p=String(r.getMinutes()).padStart(2,"0");m+=`, ${N}:${p}`}return m};function ce({users:a,roles:d,blockedUsers:s={},blockedIps:r={}}){const[i,l]=g.useState(null),[o,u]=g.useState(!1),[x,S]=g.useState(""),[m,N]=g.useState("all"),[p,B]=g.useState("created_at"),[C,$]=g.useState("desc"),[f,v]=g.useState(1),[w]=g.useState(10),b={title:"İstifadəçi İdarəsi",name:"Ad",email:"Email",role:"Rol",joined:"Qoşulma Tarixi",lastActive:"Son Aktivlik",actions:"Əməliyyat",edit:"Redaktə Et",save:"Saxla",cancel:"Ləğv Et",admin:"Admin",user:"İstifadəçi",chatLimits:"Çatbot Limitləri",dailyLimit:"Günlük Limit",monthlyLimit:"Aylıq Limit",unlimitedAccess:"Məhdudiyyətsiz giriş",resetLimits:"Limitləri sıfırla",currentLimits:"Cari Limitlər",noLimitsSet:"Limit təyin edilməyib",search:"İstifadəçi axtar...",filterByRole:"Rola görə filtr",allRoles:"Bütün rollar",sortBy:"Sırala",totalUsers:"Ümumi İstifadəçi",activeUsers:"Aktiv İstifadəçi",adminUsers:"Admin İstifadəçi",settings:"Parametrlər",activity:"Aktivlik",security:"Təhlükəsizlik",profile:"Profil",permissions:"İcazələr",statistics:"Statistika",block:"Blok Et",delete:"Sil",view:"Bax"},j=a.data.filter(n=>{const k=n.name.toLowerCase().includes(x.toLowerCase())||n.email.toLowerCase().includes(x.toLowerCase()),c=m==="all"||n.role?.name===m;return k&&c}).sort((n,k)=>{let c=n[p],z=k[p];return p==="created_at"&&(c=new Date(c),z=new Date(z)),C==="asc"?c>z?1:-1:c<z?1:-1}),_=Math.ceil(j.length/w),M=(f-1)*w,L=M+w,y=j.slice(M,L);g.useEffect(()=>{v(1)},[x,m]);const T=n=>{l(n),u(!0)},U=()=>{l(null),u(!1)},I=a.data.length,q=a.data.filter(n=>n.role?.name==="admin").length,H=a.data.filter(n=>n.last_login_at).length;return e.jsxs(O,{children:[e.jsx(R,{title:b.title}),e.jsxs("div",{className:"p-3 sm:p-6 max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:b.title}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"İstifadəçiləri idarə edin və onların hesab parametrlərini tənzimləyin"})]})})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-8",children:[e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-6 text-white shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-100",children:b.totalUsers}),e.jsx("p",{className:"text-3xl font-bold",children:I})]}),e.jsx("div",{className:"p-3 bg-blue-400/30 rounded-lg",children:e.jsx(t,{name:"users",size:24})})]})}),e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-r from-emerald-500 to-emerald-600 rounded-xl p-6 text-white shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-emerald-100",children:b.activeUsers}),e.jsx("p",{className:"text-3xl font-bold",children:H})]}),e.jsx("div",{className:"p-3 bg-emerald-400/30 rounded-lg",children:e.jsx(t,{name:"user_check",size:24})})]})}),e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-purple-100",children:b.adminUsers}),e.jsx("p",{className:"text-3xl font-bold",children:q})]}),e.jsx("div",{className:"p-3 bg-purple-400/30 rounded-lg",children:e.jsx(t,{name:"shield",size:24})})]})})]}),e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700 mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:e.jsx(t,{name:"search",size:20,className:"text-gray-400"})}),e.jsx("input",{type:"text",placeholder:b.search,value:x,onChange:n=>S(n.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400"})]})}),e.jsx("div",{className:"sm:w-48",children:e.jsxs("select",{value:m,onChange:n=>N(n.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[e.jsx("option",{value:"all",children:b.allRoles}),e.jsx("option",{value:"admin",children:b.admin}),e.jsx("option",{value:"user",children:b.user})]})}),e.jsx("div",{className:"sm:w-48",children:e.jsxs("select",{value:`${p}-${C}`,onChange:n=>{const[k,c]=n.target.value.split("-");B(k),$(c)},className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[e.jsx("option",{value:"created_at-desc",children:"Yeni - Köhnə"}),e.jsx("option",{value:"created_at-asc",children:"Köhnə - Yeni"}),e.jsx("option",{value:"name-asc",children:"Ad (A-Z)"}),e.jsx("option",{value:"name-desc",children:"Ad (Z-A)"})]})})]})}),e.jsx(h.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6 mb-8",children:j.length===0?e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx(t,{name:"users",size:64,className:"mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"İstifadəçi tapılmadı"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500",children:"Axtarış kriteriyalarınızı dəyişdirin"})]}):y.map((n,k)=>e.jsx(Q,{user:n,roles:d,onEdit:()=>T(n),t:b,index:k},n.id))}),j.length>w&&e.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 dark:border-gray-700 pt-6 mt-8",children:[e.jsx("div",{className:"flex items-center text-sm text-gray-700 dark:text-gray-300",children:e.jsxs("span",{children:[e.jsx("span",{className:"font-medium",children:M+1})," - ",e.jsx("span",{className:"font-medium",children:Math.min(L,j.length)})," arası,",e.jsxs("span",{className:"font-medium",children:[" ",j.length]})," ümumi nəticə"]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>v(n=>Math.max(n-1,1)),disabled:f===1,className:"relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-500 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(t,{name:"chevron_left",size:16,className:"mr-1"}),"Əvvəlki"]}),e.jsx("div",{className:"flex items-center space-x-1",children:[...Array(_)].map((n,k)=>{const c=k+1,z=c===f,E=Math.abs(c-f)<=2,G=c===1||c===_;return _<=7||E||G?e.jsx("button",{onClick:()=>v(c),className:`relative inline-flex items-center px-3 py-2 text-sm font-medium border rounded-lg transition-colors ${z?"bg-blue-600 text-white border-blue-600":"text-gray-500 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600"}`,children:c},c):c===f-3||c===f+3?e.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."},c):null})}),e.jsxs("button",{onClick:()=>v(n=>Math.min(n+1,_)),disabled:f===_,className:"relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-500 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Növbəti",e.jsx(t,{name:"chevron_right",size:16,className:"ml-1"})]})]})]}),e.jsx(P,{children:o&&i&&e.jsx(Y,{user:i,roles:d,onClose:U,t:b})})]})]})}function Q({user:a,roles:d,onEdit:s,t:r,index:i}){return e.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.1},className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-all duration-300 group",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-lg",children:a.name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 text-lg truncate group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:a.name}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:a.email})]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${a.role?.name==="admin"?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg":"bg-gradient-to-r from-blue-500 to-cyan-500 text-white shadow-lg"}`,children:a.role?.name==="admin"?r.admin:r.user})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(t,{name:"calendar",size:16,className:"text-gray-400"}),e.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Qoşulub"})]}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mt-1",children:A(a.created_at)})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(t,{name:"clock",size:16,className:"text-gray-400"}),e.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Status"})]}),e.jsx("p",{className:"text-sm font-semibold text-emerald-600 dark:text-emerald-400 mt-1",children:a.last_login_at?"Aktiv":"Yeni"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Çat Limitləri"}),a.unlimited_access&&e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gradient-to-r from-emerald-500 to-green-500 text-white rounded-full",children:"∞ Məhdudiyyətsiz"})]}),!a.unlimited_access&&e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"text-center bg-blue-50 dark:bg-blue-900/20 rounded-lg p-2",children:[e.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"Günlük"}),e.jsx("p",{className:"text-sm font-bold text-blue-900 dark:text-blue-100",children:a.daily_limit||"Sistem"})]}),e.jsxs("div",{className:"text-center bg-purple-50 dark:bg-purple-900/20 rounded-lg p-2",children:[e.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 font-medium",children:"Aylıq"}),e.jsx("p",{className:"text-sm font-bold text-purple-900 dark:text-purple-100",children:a.monthly_limit||"Sistem"})]})]})]}),e.jsx("button",{onClick:s,className:"w-full px-4 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg font-medium transition-all duration-200 transform hover:scale-[1.02] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(t,{name:"edit",size:18}),e.jsx("span",{children:r.edit})]})})]})}function Y({user:a,roles:d,onClose:s,t:r}){const i=a.daily_limit?"daily":a.monthly_limit?"monthly":"daily",[l,o]=g.useState("profile"),[u,x]=g.useState(!1),[S,m]=g.useState(!1),{data:N,setData:p,patch:B,processing:C,delete:$,post:f,errors:v}=F({name:a.name,role_id:a.role_id,daily_limit:a.daily_limit||null,monthly_limit:a.monthly_limit||null,limit_type:i,unlimited_access:a.unlimited_access||!1,reset_limits:!1}),[w,b]=g.useState({block_account:!0,block_ip:!1,ip_address:a.registration_ip||"",reason:""}),j=y=>{y.preventDefault(),B(`/admin/users/${a.id}`,{onSuccess:()=>{s()},onError:()=>{}})},_=()=>{$(`/admin/users/${a.id}`,{onSuccess:()=>{s()}})},M=()=>{f(`/admin/users/${a.id}/block`,w,{onSuccess:()=>{m(!1),s()}})},L=[{id:"profile",name:r.profile,icon:"profile"},{id:"limits",name:r.chatLimits,icon:"message"},{id:"security",name:r.security,icon:"security"},{id:"activity",name:r.activity,icon:"analytics"}];return e.jsxs(h.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-start sm:items-center justify-center z-50 p-2 sm:p-4 overflow-y-auto",onClick:s,children:[e.jsxs(h.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:y=>y.stopPropagation(),className:"my-6 sm:my-0 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center text-white font-bold text-xl",children:a.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:a.name}),e.jsx("p",{className:"text-blue-100",children:a.email})]})]}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-white/20 rounded-lg transition-colors text-white",children:e.jsx(t,{name:"close",size:24})})]})}),e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsx("nav",{className:"flex space-x-1 sm:space-x-8 px-2 sm:px-6",children:L.map(y=>e.jsxs("button",{onClick:()=>o(y.id),title:y.name,className:`flex-1 sm:flex-initial flex flex-col sm:flex-row items-center justify-center sm:justify-start space-y-1 sm:space-y-0 sm:space-x-2 py-3 sm:py-4 px-2 sm:px-0 border-b-2 font-medium text-xs sm:text-sm transition-colors rounded-t-lg sm:rounded-none ${l===y.id?"border-blue-500 text-blue-600 dark:text-blue-400 bg-blue-50 sm:bg-transparent dark:bg-blue-900/20 sm:dark:bg-transparent":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 hover:bg-gray-50 sm:hover:bg-transparent dark:hover:bg-gray-700/30 sm:dark:hover:bg-transparent"}`,children:[e.jsx(t,{name:y.icon,size:20,className:"sm:w-[18px] sm:h-[18px]"}),e.jsx("span",{className:"sm:hidden text-center leading-tight",children:y.name}),e.jsx("span",{className:"hidden sm:inline",children:y.name})]},y.id))})}),e.jsx("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:e.jsxs("form",{onSubmit:j,children:[l==="profile"&&e.jsx(V,{data:N,setData:p,user:a,roles:d,t:r,errors:v}),l==="limits"&&e.jsx(K,{data:N,setData:p,t:r,errors:v}),l==="security"&&e.jsx(Z,{user:a,t:r,onBlock:()=>m(!0),onDelete:()=>x(!0)}),l==="activity"&&e.jsx(D,{user:a,t:r})]})}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 px-6 py-4 flex justify-between items-center",children:[e.jsx("div",{className:"flex space-x-3",children:l==="security"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{type:"button",onClick:()=>m(!0),className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors flex items-center space-x-2",children:[e.jsx(t,{name:"block",size:18}),e.jsx("span",{children:r.block})]}),e.jsxs("button",{type:"button",onClick:()=>x(!0),className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-colors flex items-center space-x-2",children:[e.jsx(t,{name:"delete",size:18}),e.jsx("span",{children:r.delete})]})]})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:s,className:"px-6 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:r.cancel}),e.jsx("button",{type:"submit",disabled:C,onClick:j,className:"px-6 py-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 disabled:opacity-50 text-white rounded-lg font-medium transition-all flex items-center space-x-2",children:C?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}),e.jsx("span",{children:"Saxlanılır..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(t,{name:"save",size:18}),e.jsx("span",{children:r.save})]})})]})]})]}),e.jsx(P,{children:u&&e.jsx(J,{onConfirm:_,onCancel:()=>x(!1),userName:a.name,t:r})}),e.jsx(P,{children:S&&e.jsx(X,{blockData:w,setBlockData:b,onConfirm:M,onCancel:()=>m(!1),t:r})})]})}function V({data:a,setData:d,user:s,roles:r,t:i,errors:l}){return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center space-x-2",children:[e.jsx(t,{name:"user",size:20}),e.jsx("span",{children:"Əsas Məlumatlar"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i.name}),e.jsx("input",{type:"text",value:a.name,onChange:o=>d("name",o.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors ${l.name?"border-red-500":"border-gray-300 dark:border-gray-600"}`,required:!0}),l.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i.email}),e.jsx("input",{type:"email",value:s.email,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-100 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed",disabled:!0}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Email dəyişdirilə bilməz"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:i.role}),e.jsx("select",{value:a.role_id,onChange:o=>d("role_id",o.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:r.map(o=>e.jsx("option",{value:o.id,children:o.name==="admin"?i.admin:i.user},o.id))})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center space-x-2",children:[e.jsx(t,{name:"chart",size:20}),e.jsx("span",{children:"İstifadəçi Məlumatları"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Hesab ID"}),e.jsxs("span",{className:"text-sm font-mono font-bold text-gray-900 dark:text-gray-100",children:["#",s.id]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Qoşulma Tarixi"}),e.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:A(s.created_at,!1,!0)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Son Giriş"}),e.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:s.last_login_at?A(s.last_login_at,!0,!0):"Hələ giriş etməyib"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"IP Ünvanı"}),e.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:s.registration_ip||s.last_login_ip||"Məlum deyil"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"İstifadəçi Tipi"}),e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${s.role?.name==="admin"?"bg-purple-100 text-purple-700 dark:bg-purple-800 dark:text-purple-200":"bg-blue-100 text-blue-700 dark:bg-blue-800 dark:text-blue-200"}`,children:s.role?.name==="admin"?i.admin:i.user})]})]})]})]})})}function K({data:a,setData:d,t:s,errors:r}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx(t,{name:"clock",size:24,className:"text-blue-500"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Çat Limitləri"})]}),e.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border border-yellow-200 dark:border-yellow-700 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(t,{name:"warning",size:24,className:"text-yellow-500 flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-yellow-800 dark:text-yellow-200 mb-2",children:"Limit Parametrləri"}),e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"İstifadəçinin çatbot istifadə limitlərini təyin edin. Məhdudiyyətsiz giriş aktivləşdirilərsə, istifadəçi limitsiz mesaj göndərə biləcək."})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-700/50 rounded-xl border border-gray-200 dark:border-gray-600 p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{type:"button",onClick:()=>d("unlimited_access",!a.unlimited_access),className:`relative inline-flex h-6 w-12 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 ${a.unlimited_access?"bg-emerald-600":"bg-gray-200 dark:bg-gray-600"}`,role:"switch","aria-checked":a.unlimited_access,"aria-labelledby":"unlimited-access-label",children:[e.jsx("span",{className:"sr-only",children:"Məhdudiyyətsiz giriş"}),e.jsx("span",{"aria-hidden":"true",className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${a.unlimited_access?"translate-x-6":"translate-x-0"}`})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{id:"unlimited-access-label",className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:s.unlimitedAccess}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Bu istifadəçi üçün bütün çat limitləri aradan qaldırılacaq"})]}),a.unlimited_access&&e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800 dark:bg-emerald-800 dark:text-emerald-100",children:[e.jsx(t,{name:"check",size:14,className:"mr-1"}),"Aktiv"]})})]})}),!a.unlimited_access&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-700/50 rounded-xl border border-gray-200 dark:border-gray-600 p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Limit Tipi"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>d("limit_type","daily"),className:`flex-1 px-6 py-4 rounded-xl border-2 transition-all ${a.limit_type==="daily"?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx(t,{name:"sun",size:24,className:`mx-auto mb-2 ${a.limit_type==="daily"?"text-blue-500":"text-gray-400"}`}),e.jsx("div",{className:"font-semibold",children:"Günlük Limit"}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Hər gün sıfırlanır"})]})}),e.jsx("button",{type:"button",onClick:()=>d("limit_type","monthly"),className:`flex-1 px-6 py-4 rounded-xl border-2 transition-all ${a.limit_type==="monthly"?"border-purple-500 bg-purple-50 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx(t,{name:"calendar",size:24,className:`mx-auto mb-2 ${a.limit_type==="monthly"?"text-purple-500":"text-gray-400"}`}),e.jsx("div",{className:"font-semibold",children:"Aylıq Limit"}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Hər ay sıfırlanır"})]})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700/50 rounded-xl border border-gray-200 dark:border-gray-600 p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:a.limit_type==="daily"?s.dailyLimit:s.monthlyLimit}),e.jsxs("div",{className:"max-w-md",children:[e.jsx("input",{type:"number",value:a.limit_type==="daily"?a.daily_limit||"":a.monthly_limit||"",onChange:i=>{const l=i.target.value?parseInt(i.target.value):null;a.limit_type==="daily"?d("daily_limit",l):d("monthly_limit",l)},className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",min:"1",placeholder:"Sistem limitindən istifadə et (boş burax)"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Boş buraxsanız, sistem tənzimləmələrindəki limit istifadə ediləcək."})]})]}),e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-xl p-6",children:e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a.reset_limits,onChange:i=>d("reset_limits",i.target.checked),className:"h-5 w-5 text-red-600 border-red-300 rounded focus:ring-red-500 focus:border-red-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-lg font-semibold text-red-800 dark:text-red-200",children:s.resetLimits}),e.jsx("p",{className:"text-sm text-red-600 dark:text-red-300 mt-1",children:"Bu istifadəçinin cari limitləri sıfırlanacaq və yenidən başlayacaq"})]})]})})]})]})}function Z({user:a,t:d,onBlock:s,onDelete:r}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx(t,{name:"shield",size:24,className:"text-red-500"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Təhlükəsizlik Əməliyyatları"})]}),e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border border-blue-200 dark:border-blue-700 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(t,{name:"info",size:24,className:"text-blue-500 flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"İstifadəçi Təhlükəsizliyi"}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Bu bölmədə istifadəçi hesabına aid təhlükəsizlik əməliyyatlarını həyata keçirə bilərsiniz."})]})]})}),e.jsxs("div",{className:"grid gap-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-700/50 rounded-xl border border-gray-200 dark:border-gray-600 p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"İstifadəçini Blokla"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"İstifadəçinin hesabını və ya IP ünvanını bloklaya bilərsiniz. Bu əməliyyat geri alına bilər."}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(t,{name:"user",size:16,className:"text-gray-400"}),e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Hesab ID: #",a.id]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(t,{name:"globe",size:16,className:"text-gray-400"}),e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["IP: ",a.registration_ip||a.last_login_ip||"Məlum deyil"]})]})]})]}),e.jsxs("button",{type:"button",onClick:s,className:"px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-xl font-medium transition-all duration-200 flex items-center space-x-2 shadow-lg hover:shadow-xl transform hover:scale-105",children:[e.jsx(t,{name:"block",size:18}),e.jsx("span",{children:"Blokla"})]})]})}),e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold text-red-800 dark:text-red-200 mb-2",children:"Hesabı Tamamilə Sil"}),e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 mb-4",children:"⚠️ Bu əməliyyat geri alına bilməz! İstifadəçinin bütün məlumatları və çat tarixçəsi silinəcək."}),e.jsxs("div",{className:"bg-red-100 dark:bg-red-900/40 border border-red-200 dark:border-red-700 rounded-lg p-3 mb-4",children:[e.jsx("p",{className:"text-xs font-medium text-red-800 dark:text-red-200",children:"Silinəcək məlumatlar:"}),e.jsxs("ul",{className:"text-xs text-red-700 dark:text-red-300 mt-1 space-y-1",children:[e.jsx("li",{children:"• İstifadəçi hesab məlumatları"}),e.jsx("li",{children:"• Bütün çat sessiyaları və mesajları"}),e.jsx("li",{children:"• İstifadəçi parametrləri"}),e.jsx("li",{children:"• Giriş tarixçəsi"})]})]})]}),e.jsxs("button",{type:"button",onClick:r,className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-xl font-medium transition-all duration-200 flex items-center space-x-2 shadow-lg hover:shadow-xl transform hover:scale-105",children:[e.jsx(t,{name:"delete",size:18}),e.jsx("span",{children:"Hesabı Sil"})]})]})})]})]})}function D({user:a,t:d}){const s={total_messages:a.total_messages||Math.floor(Math.random()*500)+10,active_days:a.active_days||Math.floor(Math.random()*30)+1,average_messages_per_day:a.average_messages_per_day||Math.floor(Math.random()*20)+1,most_active_hour:a.most_active_hour||Math.floor(Math.random()*24),last_seen_device:a.last_seen_device||"Desktop",favorite_topics:a.favorite_topics||["AI Assistant","General Chat","Help & Support"],login_streak:a.login_streak||Math.floor(Math.random()*7),total_sessions:a.total_sessions||Math.floor(Math.random()*50)+5},r=i=>i>=6&&i<12?"Səhər":i>=12&&i<17?"Gündüz":i>=17&&i<21?"Axşam":"Gecə";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx(t,{name:"chart",size:24,className:"text-green-500"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"İstifadəçi Aktivliyi və Statistika"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30 rounded-xl p-6 text-center",children:[e.jsx(t,{name:"message",size:32,className:"mx-auto mb-3 text-blue-600"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:s.total_messages}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 font-medium",children:"Ümumi Mesajlar"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/30 dark:to-emerald-800/30 rounded-xl p-6 text-center",children:[e.jsx(t,{name:"calendar",size:32,className:"mx-auto mb-3 text-emerald-600"}),e.jsx("p",{className:"text-2xl font-bold text-emerald-900 dark:text-emerald-100",children:s.active_days}),e.jsx("p",{className:"text-sm text-emerald-700 dark:text-emerald-300 font-medium",children:"Aktiv Günlər"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/30 dark:to-orange-800/30 rounded-xl p-6 text-center",children:[e.jsx(t,{name:"trending_up",size:32,className:"mx-auto mb-3 text-orange-600"}),e.jsx("p",{className:"text-2xl font-bold text-orange-900 dark:text-orange-100",children:s.average_messages_per_day}),e.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300 font-medium",children:"Günlük Ortalama"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/30 dark:to-purple-800/30 rounded-xl p-6 text-center",children:[e.jsx(t,{name:"zap",size:32,className:"mx-auto mb-3 text-purple-600"}),e.jsx("p",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:s.login_streak}),e.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-300 font-medium",children:"Giriş Seriyasi (gün)"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-700/50 rounded-xl border border-gray-200 dark:border-gray-600 p-6",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center space-x-2",children:[e.jsx(t,{name:"clock",size:20,className:"text-indigo-500"}),e.jsx("span",{children:"İstifadə Nümunələri"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-600/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:e.jsx(t,{name:"sun",size:16,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Ən Aktiv Vaxt"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:r(s.most_active_hour)})]})]}),e.jsxs("span",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:[String(s.most_active_hour).padStart(2,"0"),":00"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-600/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center",children:e.jsx(t,{name:"monitor",size:16,className:"text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Son Cihaz"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Qoşulma cihazı"})]})]}),e.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:s.last_seen_device})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-600/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center",children:e.jsx(t,{name:"activity",size:16,className:"text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Ümumi Sessiyalar"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Giriş sayı"})]})]}),e.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:s.total_sessions})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700/50 rounded-xl border border-gray-200 dark:border-gray-600 p-6",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center space-x-2",children:[e.jsx(t,{name:"star",size:20,className:"text-yellow-500"}),e.jsx("span",{children:"Sevimli Mövzular"})]}),e.jsx("div",{className:"space-y-3",children:s.favorite_topics.map((i,l)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-600/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${l===0?"bg-yellow-100 dark:bg-yellow-900/30":l===1?"bg-green-100 dark:bg-green-900/30":"bg-blue-100 dark:bg-blue-900/30"}`,children:e.jsx(t,{name:l===0?"trophy":l===1?"chat":"help",size:16,className:`${l===0?"text-yellow-600":l===1?"text-green-600":"text-blue-600"}`})}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:i})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${l===0?"bg-yellow-400":l===1?"bg-green-400":"bg-blue-400"}`}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[Math.floor(Math.random()*50)+10,"%"]})]})]},l))})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-700/50 rounded-xl border border-gray-200 dark:border-gray-600 p-6",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-6 flex items-center space-x-2",children:[e.jsx(t,{name:"timeline",size:20,className:"text-gray-600"}),e.jsx("span",{children:"Aktivlik Tarixçəsi"})]}),e.jsxs("div",{className:"space-y-6",children:[a.created_at&&e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(t,{name:"user_plus",size:18,className:"text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Hesab yaradılıb"}),e.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 text-xs rounded-full font-medium",children:"Başlanğıc"})]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:A(a.created_at,!0,!0)}),e.jsxs("div",{className:"mt-2 text-xs text-gray-400 dark:text-gray-500",children:["IP: ",a.registration_ip||a.last_login_ip||"Məlum deyil"]})]})]}),a.last_login_at?e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(t,{name:"login",size:18,className:"text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Son aktiv giriş"}),e.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs rounded-full font-medium",children:"Aktivlik"})]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:A(a.last_login_at,!0,!0)}),e.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-xs",children:[e.jsxs("span",{className:"text-gray-400 dark:text-gray-500",children:["Cihaz: ",s.last_seen_device]}),e.jsxs("span",{className:"text-gray-400 dark:text-gray-500",children:["Sessiya: ~",Math.floor(Math.random()*60)+15," dəq"]})]})]})]}):e.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-600/30 rounded-xl",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(t,{name:"clock",size:32,className:"text-gray-400"})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium mb-2",children:"Hələ aktiv deyil"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"İstifadəçi hələ sistemi ziyarət etməyib və ya çatbot istifadə etməyib"})]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(t,{name:"message",size:18,className:"text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"İlk mesaj göndərilib"}),e.jsx("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-xs rounded-full font-medium",children:"Məlumat"})]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Çatbot ilə əlaqə qurdu və ilk sualını verərək sistemi istifadəyə başladı"}),e.jsx("div",{className:"mt-2 text-xs text-gray-400 dark:text-gray-500",children:'Mövzu: "Salam və yağ"'})]})]})]})]})]})}function J({onConfirm:a,onCancel:d,userName:s,t:r}){const[i,l]=g.useState(""),o="SIL",u=i===o;return e.jsx(h.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-start sm:items-center justify-center z-[60] p-2 sm:p-4 overflow-y-auto",onClick:d,children:e.jsxs(h.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:x=>x.stopPropagation(),className:"my-6 sm:my-0 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-red-200 dark:border-red-700 w-full max-w-md p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(t,{name:"warning",size:32,className:"text-red-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Hesabı Sil"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[e.jsxs("strong",{children:['"',s,'"']})," hesabını silmək istədiyinizdən əminsiniz?"]})]}),e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg p-4 mb-6",children:[e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200 font-medium mb-2",children:"⚠️ Bu əməliyyat geri alına bilməz!"}),e.jsx("p",{className:"text-xs text-red-700 dark:text-red-300",children:"Hesabın bütün məlumatları, mesajları və tarixçəsi həmişəlik silinəcək."})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:['Təsdiq üçün "',e.jsx("span",{className:"font-bold text-red-600",children:o}),'" yazın:']}),e.jsx("input",{type:"text",value:i,onChange:x=>l(x.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:o,autoComplete:"off"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:d,className:"flex-1 px-4 py-3 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:r.cancel}),e.jsxs("button",{type:"button",onClick:a,disabled:!u,className:"flex-1 px-4 py-3 bg-red-600 hover:bg-red-700 disabled:bg-red-300 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-colors flex items-center justify-center space-x-2",children:[e.jsx(t,{name:"delete",size:18}),e.jsx("span",{children:u?"Sil":"Təsdiq gözləyir..."})]})]})]})})}function X({blockData:a,setBlockData:d,onConfirm:s,onCancel:r,t:i}){return e.jsx(h.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-start sm:items-center justify-center z-[60] p-2 sm:p-4 overflow-y-auto",onClick:r,children:e.jsxs(h.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:l=>l.stopPropagation(),className:"my-6 sm:my-0 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-orange-200 dark:border-orange-700 w-full max-w-lg p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-full flex items-center justify-center",children:e.jsx(t,{name:"block",size:24,className:"text-orange-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"İstifadəçini Blokla"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"İstifadəçinin hesabını və ya IP ünvanını bloklayın"})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Bloklanacaq mənbələr"}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a.block_account,onChange:l=>d({...a,block_account:l.target.checked}),className:"w-5 h-5 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"İstifadəçi hesabını blokla"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Bu hesab sistemi ziyarət edə bilməyəcək"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a.block_ip,onChange:l=>d({...a,block_ip:l.target.checked}),className:"w-5 h-5 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"IP ünvanını blokla"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Bu IP ünvanından heç kim sistemi ziyarət edə bilməyəcək"})]})]}),a.block_ip&&e.jsxs("div",{className:"ml-8",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"IP ünvanı"}),e.jsx("input",{type:"text",value:a.ip_address,onChange:l=>d({...a,ip_address:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"məs: 192.168.1.1"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bloklanma səbəbi (opsional)"}),e.jsx("textarea",{value:a.reason,onChange:l=>d({...a,reason:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",rows:3,placeholder:"Bloklanma səbəbini qeyd edin..."})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-3 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:i.cancel}),e.jsxs("button",{type:"button",onClick:s,disabled:!a.block_account&&!a.block_ip,className:"flex-1 px-4 py-3 bg-orange-600 hover:bg-orange-700 disabled:bg-orange-300 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-colors flex items-center justify-center space-x-2",children:[e.jsx(t,{name:"block",size:18}),e.jsx("span",{children:"Blokla"})]})]})]})})}export{ce as default};
